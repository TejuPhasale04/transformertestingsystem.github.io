<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="/static/css/Test.css">  
  <link rel="stylesheet" href="/static/css/Home.css">
  <title>Test </title>
</head>
<body>
  	<header>
		<nav>
			<ul>
        
				<li><a href="/">Home</a></li>
          <li><button id="login-btn">Log out</button></li> <!-- Add login button/link -->
          <li><a href="/test">Test Menu</a></li>
          <li><a href="/equipmentRating"></a></li>
			</ul>
		</nav>
		<h1>Transformer Testing System</h1>
	
	</header>
 
    <section class="body" style="background-color: rgb(166, 166, 230);">

    
	    <div class="container">
            <form id="myForm">
              <div>	
                <h1 style="color:black;" class="head">Select Tests</h1>
                <label for="Routine_test">Routine Test:</label>
                      <select class="left" name="mycolor" id="Routine_test" size="1" >
                          <option value="Routine Test">Routine Test</option>
                          <option value="Winding Resistance Test">Winding Resistance Test</option>
                          <option value="Insulation Resistance Test">Insulation Resistance Test</option>
                          <option value="Voltage Radio Test">Voltage Radio Test</option>
                          <option value="Dieletric Test:High voltage Test">Dieletric Test:High voltage Test</option>
                          <option value="Dieletric Test:Induced Over Voltage Test">Dieletric Test:Induced Over Voltage Test</option>
                          <option value="Load Loss Test">Load Loss Test</option>
                          <option value="No Load Loss Test">No Load Loss Test</option>
                      </select>

                      <label for="type_test">Type Test:</label>
                      <select class="center" name="mycolor" id="type_test" size="1">
                          <option value="Type Test">Type Test</option>
                          <option value="Temperature Rise Test">Temperature Rise Test</option>
                      </select>

                      <label for="Special_test">Special Test:</label>
                      <select class="right" name="mycolor" id="Special_test" size="1">
                          <option value="Special Test">Special Test</option>
                          <option value="Magnetic Balance Test">Magnetic Balance Test</option>
                          <option value="harmonic Test">harmonic Test</option>
                          <option value="Impluse Test">Impluse Test</option>
                          <option value="PD Test">PD Test</option>
                      </select>

                  <div class="button">
              
                   <input class="btnn2" id="btn" type="Submit" value="Save" >  
                   <input class="btnn2" id="btnn" type="reset" value="Clear">
                 
                </div>  
                
     </form>    
    </div>
    </section>
	<footer>
		<p>&copy; 2023 Transformer Testing System</p>
	</footer>
     <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
   <script>
    let saveBtn = document.querySelector('#btn');
saveBtn.addEventListener('click', async function(e){
  e.preventDefault();
  let Test1 = document.querySelector("#Routine_test").value;
  let Test2 = document.querySelector("#type_test").value;
  let Test3 = document.querySelector("#Special_test").value;
  let resp = await axios.post('/test',{Test1,Test2,Test3});

  // If data is successfully saved, show equipment rating menu
  if (resp.status === 200) {
    let ratingMenu = document.querySelector('ul');
    let newMenuItem = document.createElement('li');
    let link = document.createElement('a');
    link.setAttribute('href', '/equipmentRating');
    link.textContent = 'Equipment Rating';
    newMenuItem.appendChild(link);
    ratingMenu.appendChild(newMenuItem);
  }
});
      </script>
</body>
</html>